# 图像处理：基础(模板、卷积运算)

**使用模板处理图像相关概念：**     

​      **`模板`**：矩阵方块，其数学含义是**一**种**卷积**运算。
​      **`卷积运算`**：可看作是**加权求和**的过程，使用到的**图像**区域中的**`每个像素`**分别于**`卷积核`**(权矩阵)的每个元素对应相乘，**所有乘积之和作为区域中心像素的新值**。
​      **`卷积核`**：**卷积**时使用到的权用**一个**矩阵表示，该矩阵**与**使用的**图像**区域大小相同，其**行、列都是奇数**，是**一个**权矩阵。
​      **卷积**示例：
​              3 * 3 的像素区域R与**卷积核**G的**卷积**运算：
$$
R_5(中心像素)=R_1G_1 + R_2G_2 + R_3G_3 + R_4G_4 + R_5G_5 + R_6G_6 + R_7G_7 + R_8G_8 + R_9G_9
$$
​            ![template1.JPG](http://images.cnblogs.com/cnblogs_com/a-toad/GDI/template1.JPG)

**使用模板处理图像的问题：**
​       边界问题：当处理**图像**边界像素时，**卷积**核**与****图像**使用区域不能匹配，**卷积**核的中心**与**边界像素点对应，
​                 **卷积**运算将出现问题。
​       处理办法：
​              A． 忽略边界像素，即处理后的**图像**将丢掉这些像素。
​              B． 保留原边界像素，即copy边界像素到处理后的**图像**。

**常用模板：**
![template2.JPG](http://images.cnblogs.com/cnblogs_com/a-toad/GDI/template2.JPG)
![template3.JPG](http://images.cnblogs.com/cnblogs_com/a-toad/GDI/template3.JPG)

如果你刚刚接触**图像**处理,或者离开大学很长时间,**一**看到**卷积**这个东西,肯定和我**一**样感到晕菜.那么就复习**一**下,并且实际的写个程序验证**一**下,我保证你这辈子不会再忘记**卷积**的概念了.我们来看**一**下**一**维**卷积**的概念.
连续空间的**卷积**定义是 f(x)**与**g(x)的**卷积**是 f(t-x)g(x) 在t从负无穷到正无穷的积分值.t-x要在f(x)定义域内,所以看上去很大的积分实际上还是在**一**定范围的.
实际的过程就是f(x) 先做**一个**Y轴的反转,然后再沿X轴平移t就是f(t-x),然后再把g(x)拿来,两者乘积的值再积分.想象**一**下如果g(x)或者f(x)是个单位的阶越函数. 那么就是f(t-x)**与**g(x)相交部分的面积.这就是**卷积**了.
把积分符号换成求和就是离散空间的**卷积**定义了.那么在**图像**中**卷积****卷积**地是什么意思呢,就是**图像**就是**图像**f(x),**模板**是g(x),然后将模版g(x)在模版中移动,每到**一个**位置,就把f(x)**与**g(x)的定义域相交的元素**进行**乘积并且求和,得出新的**图像*一**点,就是被**卷积**后的**图像**. 模版又称为**卷积**核.**卷积**核做**一个矩阵的形状.
**卷积**定义上是线性系统分析经常用到的.线性系统就是**一个**系统的输入和输出的关系是线性关系.就是说整个系统可以分解成N多的无关独立变化,整个系统就是这些变化的累加.
如 x1->y1, x2->y2; 那么A*x1 + B*x2 -> A*y1 + B*y2 这就是线性系统. 表示**一个**线性系统可以用积分的形式 如 Y = Sf(t,x)g(x)dt S表示积分符号,就是f(t,x)表示的是A B之类的线性系数.
看上去很像**卷积**呀,,对如果f(t,x) = F(t-x) 不就是了吗.从f(t,x)变成F(t-x)实际上是说明f(t,x)是个线性移不变,就是说 变量的差不变化的时候,那么函数的值不变化. 实际上说明**一个**事情就是说线性移不变系统的输出可以通过输入和表示系统线性特征的函数**卷积**得到.



